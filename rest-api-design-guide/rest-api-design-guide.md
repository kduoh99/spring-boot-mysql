## REST API 디자인 가이드

REST API의 설계는 개발자들이 API를 쉽게 이해하고, 효율적으로 사용할 수 있도록 명확하고 일관된 인터페이스를 제공하는 것을 목표로 한다. 아래는 이를 위한 세부 원칙과 권장 사항들이다.

<br/>

**URL 디자인**

- **케밥 케이스 사용**
  
  URL 내의 여러 단어는 케밥 케이스(kebab-case)를 사용하여 구분한다.

- **리소스 복수형 사용**
  
  엔드포인트는 대상 리소스의 복수형을 사용하여, 리소스의 집합(Collection)임을 명확히 표현한다.

- **Collection과 Identifier 구조**
  
  URL은 Collection으로 시작하여, 구체적인 리소스를 식별할 수 있는 Identifier로 끝나야 한다.

- **명사 사용**
  
  URL에는 리소스를 나타내는 명사를 사용하며, 행위는 HTTP 메서드로 구분한다.

- **소문자 사용**
  
  URI 구성 시, 소문자를 사용하여 대소문자로 인한 혼란을 방지한다.

- **파일 확장자 제외**
  
  URI에는 파일 확장자를 포함하지 않으며, 클라이언트는 Accept 헤더를 통해 원하는 응답 형식을 명시한다.

- **API 버전 명시**
  
  API의 버전을 관리하여 호환성 문제를 최소화한다. 버전 정보는 주로 URL의 시작 부분에 명시하되, 헤더를 통한 버전 관리 방식도 고려할 수 있다. 버전 관리 방식을 선택할 때는 API의 사용성, 유지 관리 용이성 및 클라이언트의 구현 복잡성 등을 고려한다.

- **URI의 마지막에 슬래서(/) 사용 금지**
  
  URI는 슬래시(/)로 끝나지 않도록 하여, 리소스 경로의 일관성을 유지한다.

<br/>

**HTTP 메서드**

- **CRUD 작업 표현**
  
  REST API는 리소스에 대한 CRUD(Create, Read, Update, Delete) 작업을 다음과 같이 HTTP 메서드를 통해 표현한다.

  - **GET**: 리소스 조회
  - **POST**: 새로운 리소스 생성
  - **PUT**: 리소스 전체 수정
  - **PATCH**: 리소스 부분 수정
  - **DELETE**: 리소스 삭제

<br/>

**상태 코드와 에러 처리**

- **적절한 HTTP 상태 코드 응답**
  
  클라이언트 요청의 성공 여부를 알리기 위해 적절한 HTTP 상태 코드를 사용하여 응답한다. 응답 상태 코드는 [RFC 7231](https://datatracker.ietf.org/doc/html/rfc7231#section-6)을 참조하자.

- **에러 처리 및 응답**
  
  API를 사용하면서 발생할 수 있는 다양한 에러 상황에 대해 명확하고 일관된 에러 응답 구조를 제공한다. 에러 응답에는 HTTP 상태 코드, 에러 메시지, 그리고 가능한 경우 에러를 해결하기 위한 방법이 포함되어야 한다. 이는 개발자가 API를 더 쉽게 디버깅하고 문제를 해결할 수 있도록 돕는다.

<br/>

**데이터 포맷**

- **JSON 속성명 카멜 케이스 사용**
  
  JSON 객체의 속성명은 카멜 케이스로 표기하여, 다양한 프로그래밍 언어에서 자연스럽게 접근할 수 있도록 한다. 또한, 모든 응답은 가능한 한 일관된 구조를 가져야 한다.

<br/>

**보안**

- **HTTPS 사용 및 강화된 보안 설정**
  
  모든 API 요청은 HTTPS를 통해 이루어져야 한다. 이는 데이터의 안전한 전송을 보장한다. 또한, TLS(전송 계층 보안) 설정을 강화하여 중간자 공격에 대한 보호를 높인다. 인증 토큰은 URL이 아닌 요청 헤더에 포함시키고, 짧은 유효기간을 설정한다.

<br/>

**API 문서화 및 모니터링**

- **API 문서화 도구 사용**
  
  [API Blueprint](https://apiblueprint.org/), [Swagger](https://swagger.io/) 등의 도구를 사용해 API를 문서화한다. API 문서화는 API의 이해도를 높이고 사용성을 향상시킨다.

- **모니터링 엔드포인트 제공**
  
  시스템의 상태를 모니터링하기 위해 /health, /version, /metrics 등의 엔드포인트를 제공한다. 모니터링은 시스템의 안정성과 성능을 유지하는 데 중요하다.

<br/>

**추가 권장 사항**

- **리스트 응답에 항목 수 포함**
  
  응답에는 항목의 총 수를 포함시킨다.

- **limit과 offset을 이용한 페이지네이션**
  
  대량의 데이터 조회 시, 페이지네이션을 위해 limit과 offset을 활용한다.

- **쿼리 파라미터 활용**
  
  필터링, 정렬 등을 위해 쿼리 파라미터를 적극 활용한다.

- **리소스 이름에 데이터베이스 테이블명 사용 금지**
  
  내부 구현 세부 사항을 노출하지 않도록 한다.

<br/>

**참고**

- [REST란? REST API 디자인 가이드](https://covenant.tistory.com/241)
- [REST API 디자인 가이드](https://bcho.tistory.com/914)
- [REST API Tutorial](https://restfulapi.net/resource-naming/)
- [Best practices for REST API design](https://stackoverflow.blog/2020/03/02/best-practices-for-rest-api-design/)